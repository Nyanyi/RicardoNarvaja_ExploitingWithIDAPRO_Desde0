// ConsoleApplication6.cpp: define el punto de entrada de la aplicación de consola.
//

#define _CRT_SECURE_NO_WARNINGS
#define _CRT_SECURE_NO_DEPRECATE

#include "stdafx.h"
#include <stdlib.h>
#include  <stdio.h> 
#include <string.h>
#include "Windows.h"

void(*fn)(char*) = (void(*)(char*))&system;

class Equipo_A
{
	int * costo_plantel;
public:

	int copas_internacionales;
	int copas_nacionales;
	int * ascensos;
	int * descensos;
	char name[200];
	char * nombre_liga[200];
	virtual void set_costo_plantel(int);
	virtual int * get_costo_plantel();
	Equipo_A(int , int , int *, int *);


};

void Equipo_A::set_costo_plantel(int _costo){
	costo_plantel = &_costo;
}

int * Equipo_A::get_costo_plantel() {
	return costo_plantel;
}

Equipo_A::Equipo_A(int _cop_int,int _cop_nac, int * _asc, int * _desc)
{
	copas_internacionales=_cop_int;
	copas_nacionales=_cop_nac;
	descensos = _desc;
	ascensos=_asc;
	

}




class Equipo_B : public Equipo_A
{
public:
	bool capital;
	bool prov_Bs_As;
	bool interior;
	Equipo_B(int,int,int*,int*);
	char localidad[200];

};

Equipo_B::Equipo_B(int a, int b, int *c, int * d):Equipo_A(a, b,c,d)
{
	a = 0;
	b=0;
	c=&a;
	d=&b;
	capital=false;
	prov_Bs_As=false;
	interior=false;
	Equipo_A(a, b, c, d);
}





int main()
{
	int a=0, b=1,c;
	int largo=0;
	char buf[500];
	fn= (void(*)(char*))&printf;
	MessageBoxA((HWND)-0, (LPCSTR) "A ejecutar la calculadora..\n", (LPCSTR)"Vamosss", (UINT)0);

	Equipo_B * San_Mastil = new Equipo_B(0, 0, &a, &b);
	strcpy(San_Mastil->name ,"San_Mastil");
	strcpy(San_Mastil->localidad, "San_Mastil_Capital");
	* San_Mastil->nombre_liga = "Liga_trastornada";

	printf("Equipo de la B es %s\n",San_Mastil->name);

	Equipo_A * Mal_Boys = new Equipo_A(1, 1, &b, &a);
	strcpy(Mal_Boys->name, "Mal_Boys");
	* Mal_Boys->nombre_liga = (char *)&a;

	printf("Equipo de la A es %s\n", Mal_Boys->name);

	Mal_Boys->set_costo_plantel(2000);
	San_Mastil->set_costo_plantel(1000);

	San_Mastil->interior = true;

	printf("Equipo de la A Descendio borrarlo de equipos de la A \n");

	delete (Mal_Boys);

	printf("Ingrese largo de nombre de nuevo equipo ascendido a la A\n");
	scanf("%d", &largo);
	while ((c = getchar()) != '\n' && c != EOF);

	void *nuevo=malloc(largo);

	printf("Escriba nombre de nuevo equipo ascendido\n");
	fgets((char *)nuevo, largo, stdin);
	while ((c = getchar()) != '\n' && c != EOF);

	printf("Escriba nombre de la liga de equipo ascendido\n");
	fgets(buf, 500, stdin);
	while ((c = getchar()) != '\n' && c != EOF);

	*Mal_Boys->descensos = b;
	int largo_new=strlen(buf);
	memcpy(*Mal_Boys->nombre_liga, buf,largo_new);
	

	 fn((char *)nuevo);

	 fn((char *)buf);

    return 0;
}


